---
import Image from "../Image.astro";
import { PortableText } from "astro-portabletext";
import HN from "../HN.astro";

const { node } = Astro.props;
---

<section class="feature">
  <!-- <hr class="small-separator mb-8" /> -->
  {
    node.titre && (
      <HN
        class="mt-16 text-3xl sm:text-4xl md:text-6xl xl:text-8xl font-extrabold uppercase w-fit mx-4 md:mr-auto md:ml-4 border-t-4 border-[var(--textColor)] pt-2 animate"
        content={node.titre}
        anim="fadeInDown"
        Level={node.lvl}
      />
    )
  }
  <div
    class="feature-content flex items-stretch justify-center gap-4 mt-16 md:mr-0 border-b-4 border-[var(--textColor)]">
    <div class="flex-0 w-full md:w-2/5 frame animate" data-anim="fadeIn">
      {
        node.img && (
          <Image
            src={node.img.src}
            alt={node.img.alt}
            class="h-[350px] md:h-[700px] object-cover"
            loading={node.img.eager ? "eager" : "lazy"}
          />
        )
      }
    </div>
    <div
      class="flex-0 w-full md:w-3/5 z-10 flex flex-col justify-between pb-4 px-4">
      {
        node.h3 && (
          <h3
            class="text-xl sm:text-3xl md:text-4xl xl:text-6xl my-4 font-extrabold animate"
            data-anim="fadeInDown"
            set:html={node.h3}
          />
        )
      }
      <div>
        {
          node.text && (
            <div
              class="text-base md:text-lg xl:text-2xl font-normal mb-8 animate"
              data-anim="fadeInUp">
              <PortableText value={node.text} />
            </div>
          )
        }
        {
          node.href && (
            <a
              class="btn border hover:border hover:border-[var(--textColor)] animate animDelay1x"
              data-anim="fadeInUp"
              href={node.href}>
              {node.ancre}
            </a>
          )
        }
      </div>
    </div>
  </div>
</section>
